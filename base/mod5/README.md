# CRUD-приложение для управления книгами

> Это полноценное CRUD-приложение на основе Java Spring Boot, использующее Spring MVC, Spring Data JPA и Redis для кэширования данных. Приложение позволяет управлять книгами: добавлять, редактировать, удалять и получать информацию о книгах, об этом подробнее ниже.

## Технологии

- Java 17+
- Spring Boot
- Spring Data JPA
- Redis для кэширования
- Maven

## Запуск проекта

Для начала убедитесь, что Docker установлен на ваш ПК, так как он обязателен. Скачать его можно по ссылке - https://www.docker.com/ .

При установке проекта, нужно открыть его, желательно через Intellij IDEA. После чего выполнить следующие действия:
1. Открываем терминал и пишем следующее:
```bash
docker run -d -p 6379:6379 redis
```
Приложение использует Redis для кеширования. Перед запуском приложения убедитесь, что Redis работает локально или в Docker-контейнере (наш случай).
Проверить запуск можно командой:
```bash
docker ps
```
2. Соберите проект через Maven, если у вас не запускается уже собранный файл.
```bash
mvn clean install
```
Убедитесь, что Maven установлен на ваш ПК, установить его можно по ссылке - https://maven.apache.org/download.cgi .
3. После успешной сборки проекта, запустить его можно будет следующей командой:
```bash
java -jar target/BookManagement-0.0.1-SNAPSHOT.jar
```
Замените BookManagement-0.0.1-SNAPSHOT.jar на другое название, если оно у вас другое. Посмотреть этот файл можно в папке target.
После проделывания этих действий, проект должен быть успешно запущен и корректно работать. (Docker Redis и наш проект запущены)

## API EndPoints
Для использования Endpoint'ов, рекомендую использовать Postman, я скачивал его по следующей ссылке - https://www.postman.com/ .

> Получение списка всех книг.

В Postman (или то, что вы используете) выбираем метод GET.
В URL пишем: http://localhost:8080/api/books
Метод вернет пустой массив, если никаких книг не найдено, либо полный список книг, если они есть.
Если формат JSON:
```JSON
{
"id": 1,
"title": "TitleText",
"author": "AuthorFIO",
"category": {
  "id": CategoryID,
  "name": "CategoryName"
},
"description": "DescriptionText",
}
```
> Получение информации о книге по ID

Выбираем все также метод GET.
В URL пишем: http://localhost:8080/api/books/{id} - заместо {id} пишем id книги, которой интересуетесь. Пример:
GET http://localhost:8080/api/books/1
Вам будет возвращена информация о книге по ее ID. (JSON информация)

> Создание новой книги

Выбираем метод POST. В URL пишем: http://localhost:8080/api/books
Выбираем Body => Raw (В Postman) и пишем следующий код:
```JSON
"title": "TitleText",
"author": "AuthorName",
category: {
  "name": "CategoryName",
},
"description": "Description Text"
```
Id книги и CategoryID автоматически создадуться.

> Обновление информации о книге по ID
Выбираем метод PUT. В URL вставляем: http://localhost:8080/api/books/{id} - заместо {id} пишем id книги, который нас интересует. Изменения вносятся в формате JSON, указав нужные значения параметров, так же заходим в Body => Raw и заполняем, что хотим поменять.

> Удаление книги по ID

Выбираем метод DELETE. В URL вставляем: http://localhost:8080/api/books/{id} - в качестве id пишем id книги, которую нужно удалить.
Пример: DELETE https://localhost:8080/api/books/1

> Поиск книги по категориям
Выбираем GET. В URL: http://localhost:8080/api/books/search?category=Тут_пишем_название_категории .
Вам выведуться все книги, принадлежащие этой категории
Пример: GET http://localhost:8080/api/books/search?category=Detective

> Поиск книги по названию и автору
Выбираем GET. В URL: http://localhost:8080/api/books/search?title=Название_книги&author=Тут_пишем_имя_автора .
Пример: GET http://localhost:8080/api/books/search?title=SherlockHolmes%author=ArthurDoyle .

> **Касаемо тестирования**, как я уже говорил, лучше всего использовать Postman, так как документация описана на его примере. Но так же можете использовать другие REST-клиенты.

# Как работает кэширование с Redis?

> Redis использует для кэширования данные о книгах, чтобы ускорить доступ к информации и минимизировать запросы к базе данных, это очень эффективно и полезно.

**Как это работает**? Как я понял, при первом запросе данные книги загружаются в БД и сохраняются в кэш, уже при следующих запросах Redis будет возвращать данные вместо выполнения запроса к базе данных.
